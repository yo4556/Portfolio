document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("header-main"),t=document.getElementById("nav-sidebar"),n=document.getElementById("back-to-top"),r=document.getElementById("progress");const c=2*Math.PI*24;if(r){r.style.strokeDasharray=c;r.style.strokeDashoffset=c}
window.addEventListener("scroll",(()=>{const s=window.scrollY;s>50?(e.style.padding="0.8rem 0",e.style.background="rgba(15, 23, 42, 0.95)"):(e.style.padding="1.5rem 0",e.style.background="rgba(15, 23, 42, 0.8)");const o=s>400;t.classList.toggle("sticky",o);if(n){n.classList.toggle("active",o);n.style.pointerEvents=o?"all":"none"}
if(r){const totalHeight=document.documentElement.scrollHeight-window.innerHeight;const progressRatio=s/totalHeight;r.style.strokeDashoffset=c-(progressRatio*c)}}),{passive:!0});const s=["tech1.svg","tech2.svg","tech3.svg","tech4.svg","tech5.svg","tech6.svg","tech7.svg","tech8.svg","tech9.svg","tech10.svg","tech11.svg","tech12.svg","tech13.svg","tech14.svg"],o=document.getElementById("carouselTrack");if(o){const e=[...s,...s];o.innerHTML=e.map((e=>`\n            <div class="carousel-card">\n                <img src="content/skills/${e}" alt="Technologie" loading="lazy">\n            </div>\n        `)).join("")}
const d=document.getElementById("drop-zone"),a=document.getElementById("fichier"),l=document.querySelector(".file-preview"),i=document.querySelector(".file-name"),g=(e=!0)=>{d.style.borderColor=e?"#22d3ee":"rgba(255, 255, 255, 0.1)";d.style.background=e?"rgba(34, 211, 238, 0.05)":""};function v(e){if(e.length>0){const t=e[0];i.textContent=t.name;document.querySelector(".drop-zone-content").style.display="none";l.style.display="flex"}}
if(d){d.addEventListener("click",(()=>a.click()));["dragenter","dragover"].forEach((e=>{d.addEventListener(e,(e=>{e.preventDefault(),g(!0)}))}));["dragleave","drop"].forEach((e=>{d.addEventListener(e,(t=>{t.preventDefault(),g(!1);"drop"===e&&v(t.dataTransfer.files)}))}))}
a?.addEventListener("change",(e=>v(e.target.files)));const m=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("active")}))}),{threshold:.15});document.querySelectorAll(".reveal").forEach((e=>m.observe(e)))}))